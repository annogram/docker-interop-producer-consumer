version: "2"
services:
  producer:
    container_name: pipe_producer
    volumes:
      - "interop-volume:/var/interop-volume"
      - "./cpp/src:/usr/src"
    build:
      context: ./cpp
  consumer:
    container_name: pipe_consumer
    volumes:
      - "interop-volume:/var/interop-volume"
      - "./python/src:/usr/src"
    build:
      context: ./python
    depends_on:
      - producer
volumes:
  interop-volume: